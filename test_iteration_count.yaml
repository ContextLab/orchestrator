name: test_iteration_count
description: Test iteration count with simple while loop

inputs:
  max_attempts:
    type: integer
    default: 1

steps:
  - id: main_loop
    while: 'true'
    max_iterations: "{{ max_attempts }}"
    steps:
      - id: print_iter
        action: echo This is iteration {{ main_loop.iteration }}
      
  - id: done
    action: echo All done
    dependencies: [main_loop]