id: research_basic
name: Basic Research Pipeline
description: Generate research reports using only standard LLM actions (no specialized
  tools required)
version: 1.0.0
parameters:
  topic: &id001
    type: string
    required: true
    description: Research topic
  depth: &id002
    type: string
    default: comprehensive
    description: Research depth (basic, comprehensive, or expert)
  output_path: &id003
    type: string
    default: examples/outputs/research_basic
    description: Directory where output files will be saved
steps:
- id: initial_search
  tool: web-search
  action: search
  parameters:
    query: '{{topic}} overview introduction basics'
    max_results: 10
- id: deep_search
  tool: web-search
  action: search
  parameters:
    query: '{{topic}} advanced research latest developments 2024 2025'
    max_results: 10
  dependencies:
  - initial_search
- id: extract_key_points
  action: analyze_text
  parameters:
    text: 'Topic: {{topic}}


      Initial search results:

      {% for result in initial_search.results %}

      - {{result.title}}: {{result.snippet}}

      {% endfor %}


      Deep search results:

      {% for result in deep_search.results %}

      - {{result.title}}: {{result.snippet}}

      {% endfor %}

      '
    prompt: 'You are an expert research analyst. Extract and synthesize the key points
      about {{topic}} from the search results above.


      Your task:

      1. Identify the most important facts, concepts, and developments

      2. Organize information thematically

      3. Note any conflicting information or debates

      4. Highlight recent developments or breakthroughs

      5. Include specific examples, statistics, or case studies when mentioned


      Format your response as a structured analysis with clear sections and bullet
      points.

      Do NOT use conversational language or phrases like "Certainly!" or "I''d be
      happy to help."

      Write in a direct, academic style suitable for a research report.

      '
    model: <AUTO task="analyze">Select model for information extraction</AUTO>
    analysis_type: key_points
  dependencies:
  - initial_search
  - deep_search
- id: generate_summary
  action: generate_text
  parameters:
    prompt: 'Task: Write an executive summary for a {{depth}} research report on "{{topic}}"
      based on these key points:


      {{extract_key_points.result}}


      Requirements:

      - Length: 250-400 words

      - Style: Professional, direct, and informative

      - Structure: Opening statement, 3-4 main points, closing insight

      - Do NOT use conversational phrases or filler text

      - Do NOT ask for more information or say things like "Certainly!" or "I''d be
      happy to"

      - Focus on the most significant findings and their implications

      - Include specific details, numbers, or examples where available

      - Start directly with the content, no meta-commentary


      Begin the executive summary immediately:

      '
    model: <AUTO task="generate">Select model for summary generation</AUTO>
    max_tokens: 500
  dependencies:
  - extract_key_points
- id: generate_analysis
  action: generate_text
  parameters:
    prompt: "Provide a {{depth}} analysis of {{topic}} based on these findings:\n\n\
      {{extract_key_points.result}}\n\nStructure your analysis with these sections:\n\
      1. Current State and Trends\n2. Key Challenges and Opportunities  \n3. Future\
      \ Directions and Implications\n\nRequirements:\n- Use specific examples and\
      \ evidence from the findings\n- Identify patterns and connections between different\
      \ aspects\n- Provide balanced perspective on controversies or debates\n- Make\
      \ concrete predictions or recommendations where appropriate\n- Write in analytical,\
      \ academic style\n- Avoid generic statements or filler content\n\nDepth level\
      \ \"{{depth}}\" means:\n- basic: Focus on fundamental concepts and major trends\n\
      - comprehensive: Include detailed analysis and multiple perspectives\n- expert:\
      \ Deep dive with technical details and nuanced insights\n"
    model: <AUTO task="analyze">Select model for analysis</AUTO>
    max_tokens: 1000
  dependencies:
  - extract_key_points
- id: generate_conclusion
  action: generate_text
  parameters:
    prompt: "Write a compelling conclusion for the research report on {{topic}} that\
      \ synthesizes these elements:\n\nExecutive Summary:\n{{generate_summary.result}}\n\
      \nKey Analysis Points:\n{{generate_analysis.result}}\n\nRequirements:\n- Synthesize\
      \ the most important findings into 2-3 key takeaways\n- Highlight surprising\
      \ or particularly significant insights\n- Discuss broader implications for the\
      \ field\n- Suggest areas for future research or action\n- End with a forward-looking\
      \ statement\n- Length: 150-250 words\n- Avoid clich\xE9s like \"This research\
      \ examined X through web sources\"\n- Make it substantive and specific to {{topic}}\n\
      - Start directly with the conclusion content\n"
    model: <AUTO task="generate">Select model for conclusion writing</AUTO>
    max_tokens: 300
  dependencies:
  - generate_summary
  - generate_analysis
- id: save_report
  tool: filesystem
  action: write
  parameters:
    path: '{{ output_path }}/research_{{topic | slugify}}.md'
    content: '# Research Report: {{topic}}


      **Date:** {{ execution.timestamp }}

      **Research Depth:** {{depth}}


      ## Executive Summary


      {{generate_summary.result}}


      ## Introduction


      This report presents a {{depth}} analysis of {{topic}} based on current web
      sources.


      ## Key Findings


      {{extract_key_points.result}}


      ## Analysis


      {{generate_analysis.result}}


      ## Sources


      ### Initial Search Results ({{initial_search.total_results}} found)

      {% for result in initial_search.results %}

      - [{{result.title}}]({{result.url}})

      {% endfor %}


      ### Deep Search Results ({{deep_search.total_results}} found)

      {% for result in deep_search.results %}

      - [{{result.title}}]({{result.url}})

      {% endfor %}


      ## Conclusion


      {{generate_conclusion.result}}


      ---

      *Report generated by Orchestrator Research Pipeline*

      '
  dependencies:
  - generate_summary
  - generate_analysis
  - generate_conclusion
outputs:
  report_file: '{{save_report.filepath}}'
  total_sources: '{{initial_search.total_results + deep_search.total_results}}'
  key_findings: '{{extract_key_points.result}}'
metadata:
  version: 2.0.0
  compatibility: 1.0.0
  migration_notes: Enhanced with new architecture features while maintaining backward
    compatibility
inputs:
  topic:
    type: string
    default: *id001
    description: 'Parameter: topic'
    required: false
  depth:
    type: string
    default: *id002
    description: 'Parameter: depth'
    required: false
  output_path:
    type: string
    default: *id003
    description: 'Parameter: output_path'
    required: false
enhanced_outputs:
  report_file:
    description: 'Enhanced output: report_file'
    value: '{{save_report.filepath}}'
    type: auto-detect
  total_sources:
    description: 'Enhanced output: total_sources'
    value: '{{initial_search.total_results + deep_search.total_results}}'
    type: auto-detect
  key_findings:
    description: 'Enhanced output: key_findings'
    value: '{{extract_key_points.result}}'
    type: auto-detect
