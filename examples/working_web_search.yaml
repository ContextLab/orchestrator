# Working example that uses real tools
id: web_search_example
name: Web Search and Summary Pipeline
description: Search the web and summarize findings
version: "1.0.0"

steps:
  - id: search_web
    tool: web-search
    action: search
    parameters:
      query: "artificial intelligence trends 2024"
      max_results: 5
    
  - id: generate_summary
    tool: report-generator
    action: generate
    parameters:
      title: "AI Trends Summary"
      content: |
        # Search Results Summary
        
        Based on web search for "artificial intelligence trends 2024":
        
        {% for result in search_web.results %}
        ## {{ result.title }}
        {{ result.snippet }}
        
        Source: {{ result.url }}
        
        {% endfor %}
    dependencies:
      - search_web
  # Save pipeline results
  - id: save_results
    tool: filesystem
    action: write
    parameters:
      path: "examples/outputs/web_search_example/results_{{ execution.timestamp | slugify }}.md"
      content: |
        # Web Search and Summary Pipeline Results
        
        **Date:** {{ execution.timestamp }}
        **Pipeline ID:** web_search_example
        
        ## Execution Summary
        
        Pipeline completed successfully.
        
        ---
        *Generated by Web Search and Summary Pipeline*
    dependencies:
      - generate_summary


outputs:
  result_file: "{{ save_results.filepath }}"
