# Simple Statistical Analysis Sub-Pipeline
id: statistical_analysis
name: Statistical Analysis Sub-Pipeline
description: Basic statistical analysis using data-processing tool
version: "2.0.0"

parameters:
  data:
    type: object
    description: Input data for analysis
  confidence_level:
    type: number
    default: 0.95

steps:
  - id: compute_stats
    tool: data-processing
    action: transform
    parameters:
      data: "{{ inputs.data }}"
      operation:
        type: "aggregate"
        aggregations:
          - column: "*"
            functions: ["mean", "std", "min", "max", "count"]
    
  - id: generate_summary
    action: generate_text
    parameters:
      prompt: |
        Analyze this statistical data and provide a brief summary:
        {{ compute_stats.result | default('No data available') }}
        
        Provide 2-3 key insights about the data.
      model: <AUTO>
    dependencies:
      - compute_stats

outputs:
  statistics: "{{ compute_stats.result }}"
  summary: "{{ generate_summary.result }}"