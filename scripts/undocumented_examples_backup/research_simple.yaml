name: "Research Assistant Simple"
description: "Simple research pipeline that works"
model: "google/gemini-2.5-flash"

inputs:
  query:
    type: string
    required: true
  depth:
    type: string
    default: "comprehensive"

steps:
  - id: analyze_query
    action: |
      Analyze the research query: {{query}}
      
      Provide:
      1. Key search terms
      2. Research objectives
      3. Expected information types
      4. Related topics
    
  - id: conduct_research
    action: |
      Research the topic: {{query}}
      Search depth: {{depth}}
      
      Based on analysis: {{analyze_query.result}}
      
      Provide comprehensive information including:
      1. Overview and definitions
      2. Current state and trends
      3. Key findings and insights
      4. Practical applications
      5. Future outlook
    depends_on: [analyze_query]
    
  - id: generate_report
    action: |
      Create a research report on: {{query}}
      
      Using research: {{conduct_research.result}}
      
      Format as a professional report with:
      1. Executive summary
      2. Introduction
      3. Main findings
      4. Analysis
      5. Conclusions
      6. Recommendations
    depends_on: [conduct_research]
    
  - id: save_report
    action: |
      Create a file at: examples/output/research_{{query | replace(' ', '_') | lower}}.md
      
      Content to save:
      # Research Report: {{query}}
      
      *Generated on: {{execution.timestamp}}*
      *Model: Google Gemini 2.5 Flash*
      
      ## Executive Summary
      
      {{generate_report.result | truncate(500)}}
      
      ## Full Report
      
      {{generate_report.result}}
      
      ## Research Metadata
      - Query: {{query}}
      - Depth: {{depth}}
      - Analysis: {{analyze_query.result | truncate(200)}}
      
      ---
      *Generated by Orchestrator Research Pipeline*
    depends_on: [generate_report]


  - id: save_output
    action: |
      Create a file at: examples/output/research_simple.md
      
      Content to save:
      # Research Simple
      
      *Generated on: {{execution.timestamp}}*
      *Pipeline: research_simple*
      
      ## Output
      
      {{generate_report.result}}
      
      ---
      *Generated by Orchestrator Research Simple Pipeline*
    depends_on: [generate_report]
outputs:
  report: "{{generate_report.result}}"
  file_path: "examples/output/research_{{query | replace(' ', '_') | lower}}.md"
