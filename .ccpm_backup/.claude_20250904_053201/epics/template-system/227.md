---
name: Filesystem tool not resolving template variables in paths and content
status: completed
created: 2025-08-21T21:14:35Z
updated: 2025-08-22T12:24:28Z
github: https://github.com/ContextLab/orchestrator/issues/227
imported: true
labels: bug, high-priority
---

# Filesystem tool not resolving template variables in paths and content

**GitHub Issue:** [#220](https://github.com/ContextLab/orchestrator/issues/220)
**Status:** OPEN
**Labels:** bug, high-priority

## Description

## Problem
The filesystem tool writes template variables literally instead of resolving them, resulting in files with template syntax in their names and unresolved content.

## Evidence
From iterative_fact_checker pipeline:
1. File created with literal name: `iteration_{{ $iteration }}_document.md`
2. Report content contains: `{{ parameters.input_document }}` instead of actual value
3. Output files contain unresolved Jinja2 templates

## Impact
- Cannot create dynamic file names based on variables
- Reports contain template placeholders instead of data
- Pipeline outputs are unusable

## Expected Behavior
The filesystem tool should:
1. Resolve all template variables in the `path` parameter before creating files
2. Resolve all template variables in the `content` parameter before writing

## Test Case
```yaml
- id: write_file
  tool: filesystem
  action: write
  parameters:
    path: "{{ output_path }}/{{ parameters.filename }}.txt"
    content: "Document: {{ parameters.input_document }}"
```

With inputs:
- output_path: "outputs"
- filename: "test"
- input_document: "example.md"

Should create: `outputs/test.txt` with content `Document: example.md`

NOT: `{{ output_path }}/{{ parameters.filename }}.txt` with unresolved content

## Related
- Issue #172 (Iterative fact checker)
- Issue #219 (While loop variables)